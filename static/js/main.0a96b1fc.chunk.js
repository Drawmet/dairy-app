(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e){e.exports={menuItems:[{id:1,value:"First item with custom name"},{id:2,value:"Second  item is active"}],comments:[{itemId:1,value:[{id:1,avatar:"orange",text:"A variation of the ordinary lorem ipsum text has been used in typesetting since the 1960s or earlier, when it was popularized by advertisements for Letraset transfer sheets. It was introduced to the Information Age in the mid-1980s"},{id:2,avatar:"blue",text:"A variation of the ordinary lorem ipsum text has been used in typesetting since the 1960s or earlier, when it was popularized by advertisements for Letraset transfer sheets. It was introduced to the Information Age in the mid-1980s"},{id:3,avatar:"orange",text:"A variation of the ordinary lorem ipsum text has been used in typesetting since the 1960s or earlier, when it was popularized by advertisements for Letraset transfer sheets. It was introduced to the Information Age in the mid-1980sA variation of the ordinary lorem ipsum text has been used in typesetting since the 1960s or earlier, when it was popularized by advertisements for Letraset transfer sheets. It was introduced to the Information Age in the mid-1980sA variation of the ordinary lorem ipsum text has been used in typesetting since the 1960s or earlier, when it was popularized by advertisements for Letraset transfer sheets. It was introduced to the Information Age in the mid-1980s"}]},{itemId:2,value:[{id:1,avatar:"blue",text:"A variation of the ordinary lorem ipsum text has been used in typesetting since the 1960s or earlier, when it was popularized by advertisements for Letraset transfer sheets. It was introduced to the Information Age in the mid-1980s"},{id:2,avatar:"orange",text:"A variation of the ordinary lorem ipsum text has been used in typesetting since the 1960s or earlier, when it was popularized by advertisements for Letraset transfer sheets. It was introduced to the Information Age in the mid-1980s"},{id:3,avatar:"blue",text:"A variation of the ordinary lorem ipsum text has been used in typesetting since the 1960s or earlier, when it was popularized by advertisements for Letraset transfer sheets. It was introduced to the Information Age in the mid-1980sA variation of the ordinary lorem ipsum text has been used in typesetting since the 1960s or earlier, when it was popularized by advertisements for Letraset transfer sheets. It was introduced to the Information Age in the mid-1980sA variation of the ordinary lorem ipsum text has been used in typesetting since the 1960s or earlier, when it was popularized by advertisements for Letraset transfer sheets. It was introduced to the Information Age in the mid-1980s"}]}]}},40:function(e,t,n){e.exports=n(91)},45:function(e,t,n){},62:function(e,t,n){},64:function(e,t,n){},66:function(e,t,n){},68:function(e,t,n){},70:function(e,t,n){},72:function(e,t,n){},77:function(e,t,n){},79:function(e,t,n){},81:function(e,t,n){},83:function(e,t,n){},85:function(e,t,n){},89:function(e,t,n){},91:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"BLUE",function(){return _}),n.d(a,"GREEN",function(){return M}),n.d(a,"GREY",function(){return j}),n.d(a,"ORANGE",function(){return k}),n.d(a,"RED",function(){return x});var r={};n.r(r),n.d(r,"NEW_COMMENT",function(){return L});var o=n(0),i=n.n(o),c=n(13),s=n.n(c),u=(n(45),n(10)),l=n(15),m=n(32),d=n(5),f=n(25),p=n(33),v=n(34),h=n(2),E=n(18),b=function(){return new Promise(function(e){return e(E)}).then(function(e){return e.menuItems.map(function(e){return Object(h.a)({},e,{comments_number:(t=e.id,E.comments.find(function(e){return e.itemId===t}).value.length)});var t})})},y=function(e){return function(t){return function(n){switch(n.type){case"INITIALIZE_APP":return b().then(function(e){return t(Object(h.a)({},n,{payload:{data:e}}))});case"UPDATE_COMMENTS_BY_ID":return(a=n.payload.id,new Promise(function(e,t){return a?e(E):t("active is null")}).then(function(e){return e.comments.find(function(e){return e.itemId===a})})).then(function(e){return t(Object(h.a)({},n,{payload:{comments:e}}))});case"CREATE_COMMENT":return t(Object(h.a)({},n,{payload:Object(h.a)({},n.payload,{itemId:e.getState().menu.active})}));case"CREATE_ITEM":return t(Object(h.a)({},n,{payload:{id:e.getState().menu.data.length+1}}));default:return t(n)}var a}}},g=n(6),C={errorMessage:function(e){return l.toast.error(e,{position:l.toast.POSITION.TOP_LEFT,autoClose:5e3})},newComment:function(e,t){return e.data.map(function(n){if(n.itemId===t){console.log(n);var a={id:n.value.length+1,value:e.value,color:e.color},r=n.value?Object(g.a)(n.value).concat([a]):[a];return Object(h.a)({},n,{value:r})}return n})},updateComments:function(e,t){return t?e.data.find(function(e){return e.itemId===t.itemId})?e.data:Object(g.a)(e.data).concat([t]):Object(g.a)(e.data).concat([{itemId:e.data.length+1,value:[]}])}},I=function(e){return function(t){return function(n){switch(n.type){case"CREATE_COMMENT":return e.getState().comments.value?t(n):C.errorMessage("Comment input field is empty");case"CREATE_ITEM":return e.getState().menu.value?t(n):C.errorMessage("Item input field is empty");default:return t(n)}}}},N=[p.a,y,I,Object(v.createLogger)()],O=d.a.apply(void 0,N),A=n(8),w={proccessed:!0,data:[],active:null,value:""},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZE_APP":return Object(h.a)({},e,{proccessed:!1,data:t.payload.data});case"UPDATE_ACTIVE":return Object(h.a)({},e,{active:t.payload.id});case"UPDATE_NAME_INPUT":return Object(h.a)({},e,{value:t.payload.value});case"CREATE_ITEM":return Object(h.a)({},e,Object(A.a)({value:"",data:Object(g.a)(e.data).concat([{id:t.payload.id,value:e.value,comments_number:0}])},"value",""));case"DELETE_ITEM":return Object(h.a)({},e,{active:e.active===t.payload.id?null:e.active,data:Object(g.a)(e.data.filter(function(e){return e.id!==t.payload.id}))});case"CREATE_COMMENT":return Object(h.a)({},e,{data:e.data.map(function(t){return t.id===e.active?Object(h.a)({},t,{comments_number:t.comments_number+1}):t})});default:return e}},_="blue",M="green",j="grey",k="orange",x="red",L="NEW_COMMENT",P={colors:a,handlers:r},R={data:[],value:"",color:P.colors.GREY},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_ITEM":return Object(h.a)({},e,{data:Object(g.a)(e.data).concat([{itemId:t.payload.id,value:[]}])});case"CHANGE_COMMENT_VALUE":return Object(h.a)({},e,{value:t.payload.value});case"CHANGE_COLOR_COMMENT":return Object(h.a)({},e,{color:t.payload.color});case"CREATE_COMMENT":return Object(h.a)({},e,{data:C.newComment(e,t.payload.itemId),value:""});case"DELETE_ITEM":return Object(h.a)({},e,{data:e.data.filter(function(e){return e.itemId!==t.payload.id})});default:return e}},U=Object(d.c)({menu:T,comments:D}),z=n(35),G={key:"root",storage:n.n(z).a},S=Object(f.a)(G,U),W=Object(d.e)(S,void 0,Object(d.d)(O)),B={store:W,persistor:Object(f.b)(W)},H=(n(62),function(e){var t=e.className,n=e.children;return i.a.createElement("div",{className:"page ".concat(t||"")},n)}),V=(n(64),function(e){var t=e.className,n=e.label,a=e.onClick;return i.a.createElement("button",{className:"btn ".concat(t||""),onClick:a},n)}),Y=(n(66),function(e){var t=e.className,n=e.value;return i.a.createElement("div",{className:"badge-container ".concat(t)},i.a.createElement("span",{className:"badge"},n))}),F=(n(68),function(e){var t=e.className,n=e.placeholder,a=e.textarea,r=e.value,o=e.onChange;return i.a.createElement("div",{className:"input-container ".concat(t||"")},a?i.a.createElement("textarea",{className:"input",placeholder:n,type:"text",value:r,onChange:o}):i.a.createElement("input",{className:"input",placeholder:n,type:"text",value:r,onChange:o}))}),J=(n(70),function(e){var t=e.className,n=e.children;return i.a.createElement("span",{className:"title ".concat(t||"")},n)}),Z=(n(72),function(e){var t=e.title,n=e.header,a=e.children,r=e.className;return i.a.createElement("div",{className:"list-container"},i.a.createElement("div",{className:"list ".concat(r||"")},i.a.createElement(J,{className:"list-title"},t),n&&n,i.a.createElement("div",{className:"list-item-container"},a)))}),K=function(e){var t=e.className,n=e.children,a=e.active,r=e.onClick;return i.a.createElement("div",{className:"list-item ".concat(t||""),onClick:r},i.a.createElement("span",{className:"list-indicator ".concat(a?"active":"")}),n)};Z.Item=K;var $=Z,q=function(e){var t=e.menu,n=e.value,a=e.active,r=e.createItem,o=e.deleteItem,c=e.updateActive,s=e.updateNameItem;return i.a.createElement($,{title:"Items",header:i.a.createElement("div",{className:"header-items-list"},i.a.createElement(F,{className:"header-input",value:n,placeholder:"Type name here...",onChange:function(e){return s(e.target.value)}}),i.a.createElement(V,{className:"btn-success header-button",label:"Add New",onClick:r}))},t.map(function(e){return i.a.createElement($.Item,{key:e.value,active:e.id===a,onClick:function(){return c(e.id)}},e.value,i.a.createElement(Y,{className:"success-background",value:e.comments_number}),i.a.createElement(V,{className:"btn-danger outline",label:"Delete",onClick:(t=o,n=e.id,function(e){e.stopPropagation(),t(n)})}));var t,n}))},Q=function(e){return e.menu.active},X=function(e){return{type:"UPDATE_COMMENTS_BY_ID",payload:{id:e}}},ee=Object(u.b)(function(e){return{menu:function(e){return e.menu.data}(e),active:Q(e),value:function(e){return e.menu.value}(e)}},function(e){return{createItem:function(){return e({type:"CREATE_ITEM",payload:{item:t}});var t},updateActive:function(t){return e(function(e){return function(t){t(X(e)),t({type:"UPDATE_ACTIVE",payload:{id:e}})}}(t))},deleteItem:function(t){return e(function(e){return{type:"DELETE_ITEM",payload:{id:e}}}(t))},updateNameItem:function(t){return e(function(e){return{type:"UPDATE_NAME_INPUT",payload:{value:e}}}(t))}}})(q),te=n(36),ne=n(20),ae=(n(77),function(e){var t=e.open,n=e.onChange;return t&&i.a.createElement("div",{className:"color-select-container"},Object.values(P.colors).map(function(e){return i.a.createElement("div",{className:"color-select-item ".concat(e),key:e,onClick:function(){return n(e)}})}))}),re=(n(79),function(e){var t=e.label,n=e.color,a=e.children,r=e.onClick;return i.a.createElement("span",{className:"icon ".concat(n),onClick:r},t||"",a)}),oe=(n(81),Object(A.a)({},P.handlers.NEW_COMMENT,"ctrl+enter")),ie=Object(ne.a)(Object(ne.c)("open","changeOpen",!1),Object(ne.b)({handleOnChangeColor:function(e){var t=e.open,n=e.changeColorComment,a=e.changeOpen;return function(e){n(e),a(!t)}},handleOnClick:function(e){var t=e.open,n=e.changeOpen;return function(e){e.stopPropagation(),n(!t)}}}))(function(e){var t=e.active,n=e.color,a=e.comments,r=e.open,o=e.value,c=e.changeComment,s=e.createComment,u=e.handleOnClick,l=e.handleOnChangeColor;return t&&i.a.createElement($,{title:"Comments #".concat(t||"")},a&&a.map(function(e){return i.a.createElement($.Item,{className:"comment-container",key:e.id},i.a.createElement(re,{color:e.color}),e.value)}),i.a.createElement(te.HotKeys,{keyMap:oe,handlers:function(e){return Object(A.a)({},P.handlers.NEW_COMMENT,function(){return e()})}(s)},i.a.createElement($.Item,{className:"new-comment-container"},i.a.createElement(re,{color:n,label:"click on me!",onClick:u},i.a.createElement(ae,{open:r,onChange:l})),i.a.createElement(F,{textarea:!0,value:o,onChange:function(e){return c(e.target.value)}}))))}),ce=Object(u.b)(function(e){return{active:Q(e),comments:Q(e)?function(e,t){return e.comments.data.find(function(e){return e.itemId===t}).value}(e,Q(e)):[],value:function(e){return e.comments.value}(e),color:function(e){return e.comments.color}(e)}},function(e){return{changeComment:function(t){return e(function(e){return{type:"CHANGE_COMMENT_VALUE",payload:{value:e}}}(t))},changeColorComment:function(t){return e(function(e){return{type:"CHANGE_COLOR_COMMENT",payload:{color:e}}}(t))},createComment:function(){return e({type:"CREATE_COMMENT"})}}})(ie),se=function(){return i.a.createElement(H,null,i.a.createElement(ee,null),i.a.createElement(ce,null))},ue=(n(83),function(e){var t=e.className,n=e.children;return i.a.createElement("span",{className:"subtitle ".concat(t||"")},n)}),le=(n(85),function(e){var t=e.children;return i.a.createElement("div",{className:"sidebar-container"},t)}),me=(n(87),n(89),function(){return i.a.createElement(u.a,{store:B.store},i.a.createElement(m.a,{loading:null,persistor:B.persistor},i.a.createElement("div",{className:"App"},i.a.createElement(le,null,i.a.createElement(J,{className:"sidebar-title"},"Dairy App"),i.a.createElement(ue,{className:"sidebar-subtitle"},"Comment with no sense")),i.a.createElement(se,null),i.a.createElement(l.ToastContainer,null))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(me,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[40,2,1]]]);
//# sourceMappingURL=main.0a96b1fc.chunk.js.map